# ChatApp

## Project Overview
The `ChatApp` project is a C++ application that implements a chat server and client. It uses modern C++ libraries like `asio`, `spdlog`, `fmt`, `nlohmann_json`, and `Catch2` for networking, logging, formatting, JSON handling, and testing, respectively. The project is built using CMake and Conan for dependency management.

---

## Project Structure

### **1. Root Directory**
- **`CMakeLists.txt`**: 
  - The main CMake configuration file for the project.
  - Defines the build targets, includes directories, links libraries, and sets up dependencies.
  - Likely includes logic to build the `ChatServer`, `ChatClient`, and test executables.

- **`conanfile.txt`**:
  - Specifies the Conan dependencies for the project.
  - Includes libraries like `asio`, `spdlog`, `fmt`, `nlohmann_json`, and `Catch2`.

- **`CMakePresets.json`**:
  - Contains CMake presets for different build configurations (e.g., Release, Debug).
  - Simplifies the build process by predefining common configurations.

- **`conan_toolchain.cmake`**:
  - A toolchain file generated by Conan to integrate dependencies into the CMake build system.

- **`conanbuild.sh` and `conanrun.sh`**:
  - Shell scripts generated by Conan to set up the build and runtime environments.

---

### **2. `build/` Directory**
- Contains all the build artifacts generated by CMake and Ninja.
- **Key Files**:
  - **`build.ninja`**: The build script for the Ninja build system.
  - **`CMakeCache.txt`**: Stores CMake configuration options.
  - **`libchat_client.a` and `libchat_server.a`**: Static libraries for the `ChatClient` and `ChatServer` components.
  - **`example`**: The compiled executable for the example program (`example_main.cpp`).

---

### **3. `examples/` Directory**
- **`example_main.cpp`**:
  - Demonstrates the usage of the `ChatServer` and `ChatClient` classes.
  - Initializes a server and client, sends a message from the client, and broadcasts a message from the server.

---

### **4. `include/` Directory**
- Contains the header files for the project.
- **Key Files**:
  - **`chat_server.h`**:
    - Declares the `ChatServer` class.
    - Handles server-side logic, including accepting client connections and broadcasting messages.
  - **`chat_client.h`**:
    - Declares the `ChatClient` class.
    - Handles client-side logic, including connecting to the server and sending messages.

---

### **5. `src/` Directory**
- Contains the implementation files for the project.
- **Key Files**:
  - **`chat_server.cpp`**:
    - Implements the `ChatServer` class.
    - Likely uses `asio` for networking and `spdlog` for logging.
  - **`chat_client.cpp`**:
    - Implements the `ChatClient` class.
    - Likely uses `asio` for networking and `spdlog` for logging.

---

### **6. `tests/` Directory**
- Contains unit tests for the project.
- **Key Files**:
  - **`test_server.cpp`**:
    - Tests the functionality of the `ChatServer` class.
    - Uses `Catch2` for writing and running tests.
  - **`test_client.cpp`**:
    - Tests the functionality of the `ChatClient` class.
    - Uses `Catch2` for writing and running tests.

---

### **7. Dependencies**
The project uses the following libraries, managed by Conan:
- **`asio`**:
  - Provides networking functionality for the server and client.
- **`spdlog`**:
  - Used for logging messages and events.
- **`fmt`**:
  - Provides string formatting capabilities.
- **`nlohmann_json`**:
  - Used for handling JSON data.
- **`Catch2`**:
  - A testing framework for writing unit tests.

---

## How to Build and Run

### **1. Install Dependencies**
Run Conan to install the required dependencies:
```bash
conan install . --build=missing -of build
conan install . --build=missing -of build/dependencies
```

### **2. Configure the Build**
Use CMake to configure the project:
```bash
cmake -S . -B build -G Ninja -DCMAKE_TOOLCHAIN_FILE=build/conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release
cmake -S . -B build -G Ninja -DCMAKE_TOOLCHAIN_FILE=build/dependencies/conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release
```

### **3. Build the Project**
Build the project using Ninja:
```bash
cmake --build build
```

### **4. Run the Example**
Run the example program:
```bash
./build/example
```

### **5. Run Tests**
Run the unit tests:
```bash
./build/test_server
./build/test_client
```

---

## Future Enhancements
- Add more detailed logging for debugging.
- Implement additional features like user authentication or message encryption.
- Write more comprehensive unit tests to cover edge cases.
